<span class="breadcrumb" style="font-size: 1.3em;width:100%;display:block;">
	<a href="#/">My Projects</a> /
	<a href="#/project/{{requirement.project.id}}">{{requirement.project.title}}</a> /
	<span data-ng-show="hasParent()">.. /<a href="#/requirement/{{requirement.parent.id}}">{{requirement.parent.title}} / </a></span>
	{{requirement.title}}
</span>
<div class="panel panel-default theme-panel" style="margin-top:15px;">
	<div class="panel-heading">
		<span style="diplay:inline-block;font-size: 1.3em">
			{{requirement.title}}
			<sup class="label label-warning">Requirement</sup>	
		</span>
	</div>
	<div class="panel-content">
		<div data-ng-show="{{requirements.size!=0}}" class="table-responsive" data-ng-init="refresh()">
			<div id="accordian" class="panel-group">

				<div class="panel panel-default theme-panel">
					<div class="panel-heading" 
						style="padding-bottom:15px;">
						<span style="font-size: 1.3em;cursor: pointer;" data-toggle="collapse"
						data-target="#reqDetails" data-parent="#accordian">Requirement Details</span>
						<div class="pull-right" ><a href="#/requirement/update/{{requirement.id}}" class="btn btn-warning">Update</a>&nbsp;&nbsp;<a class="btn btn-danger" data-ng-click="openConfirm()">Delete</a></div>
					</div>
					<div id="reqDetails" class="panel-collapse collapse">
						<table class="table">
							<tr>
								<th>id</th>
								<td>{{requirement.id}}</td>
							</tr>
							<tr>
								<th>Short Title</th>
								<td>{{requirement.shortTitle}}</td>
							</tr>
							<tr>
								<th>Title</th>
								<td>{{requirement.title}}</td>
							</tr>
							<tr>
								<th>Description</th>
								<td><p>{{requirement.description}}</p></td>
							</tr>
							<tr>
								<th>Created On</th>
								<td>{{requirement.createdOn | date:'dd MMMM, yyyy hh:mm:ss
									a' }}</td>
							</tr>
							<tr>
								<th>Last Modified On</th>
								<td>{{requirement.lastModifiedOn | date:'dd MMMM, yyyy hh:mm:ss a' }}</td>
							</tr>
							<tr>
								<th>constraints</th>
								<td><span ng-repeat="constraint in requirement.constraints"
									class="label label-pill label-danger"
									style="padding: 5px; margin: 5px;">{{constraint}}</span></td>
							</tr>
							<tr>
								<th>type</th>
								<td><span class="label label-pill label-info"
									style="padding: 5px; margin: 5px;">{{requirement.type}}</span></td>
							</tr>
							<tr>
								<th>priority</th>
								<td><span class="label label-pill label-info"
									style="padding: 5px; margin: 5px;">{{requirement.priority}}</span></td>
							</tr>
							<tr>
								<th>status</th>
								<td><span class="label label-pill label-info"
									style="padding: 5px; margin: 5px;">{{requirement.status}}</span></td>
							</tr>
							<tr>
								<th>links</th>
								<td>
									<ul class="list-group">
										<li data-ng-repeat="link in requirement.links"
											class="list-group-item"><a href="{{link}}">{{link}}</a></li>
									</ul>
								</td>
							</tr>
							<tr>
								<th>creators</th>
								<td>
									<ul class="list-group">
										<li data-ng-repeat="creator in requirement.creators"
											class="list-group-item">{{creator.username}}</li>
									</ul>
								</td>
							</tr>
							<tr>
								<th>contributors</th>
								<td>
									<ul class="list-group">
										<li data-ng-repeat="contributor in requirement.contributors"
											class="list-group-item">{{contributor.username}}</li>
									</ul>
								</td>
							</tr>
							<tr data-ng-show="{{requirment.parent!=null}}">
								<th>Parent</th>
								<td><a href="#requirement/{{requirment.parent}}">parent
										Requirement</a></td>
							</tr>
						</table>
					</div>
				</div>

				<div class="panel panel-default theme-panel">
					<div class="panel-heading" data-toggle="collapse"
						data-target="#attachedFiles" data-parent="#accordian"
						style="cursor: pointer;">
						<span style="font-size: 1.3em">Attached Files</span>
					</div>
					<div id="attachedFiles" class="panel-collapse collapse">
						<table class="table">
							<tr>
								<th>Id</th>
								<th>File Name</th>
								<th>Added On</th>
								<th>Added By</th>
								<th>Options</th>
							</tr>
							<tr ng-repeat="file in requirement.files">
								<td>{{file.id}}</td>
								<td>{{file.filename}}</td>
								<td>{{file.addedOn | date:'dd MMMM, yyyy hh:mm:ss a'}}</td>
								<td>{{file.addedBy.username}}</td>
								<td><a href="{{baseUrl}}download/file/{{file.id}}" download>download</a></td>
							</tr>
							<tr>
						<td colspan="5" style="text-align: center;">
							<form class="form-inline pull-right">
								<input type="file" class="form-control col-lg-2" data-file-model="myFile" >
								&nbsp;&nbsp;&nbsp;<span class="btn btn-primary" data-ng-click="uploadFile()">Upload File</span>
							</form>
						</td>
					</tr>
						</table>
					</div>
				</div>

				<div class="panel panel-default theme-panel">
					<div class="panel-heading">
						<div style="padding-bottom: 4px;">
							<div style="font-size: 1.3em; display: inline-block; margin-top: 5px; cursor: pointer;" data-toggle="collapse"
						data-target="#elaboDetails" data-parent="#accordian">Elaborations</div>
							<!-- <div class="form-inline pull-right">
								<div class="input-group">
									<span class="input-group-addon">Search By</span> <select
										class="form-control" data-ng-model="search.searchBy">
										<option value="all">ALL</option>
										<option value="id">ID</option>
										<option value="title">TITLE</option>
									</select>
								</div>

								<input type="text" class="form-control" placeholder="search for"
									data-ng-show="isVisible('all')"
									data-ng-model="search.searchFor"> <input type="text"
									class="form-control" placeholder="enter id here..."
									data-ng-show="isVisible('id')"
									data-ng-model="search.searchFor.id"> <input type="text"
									class="form-control" placeholder="enter title here..."
									data-ng-show="isVisible('title')"
									data-ng-model="search.searchFor.title">
							</div> -->
						</div>
					</div>
					<div class="panel-collapse collapse" id="elaboDetails">
						<table class="table table-striped">
							<thead>
								<tr>
									<th data-ng-click="sort('id')">Id<span
										data-ng-class="sortClass('id')"></span></th>
									<th data-ng-click="sort('title')">Title<span
										data-ng-class="sortClass('title')"></span></th>
									<th data-ng-click="sort('createdOn')">Created On<span
										data-ng-class="sortClass('createdOn')"></span></th>
									<th data-ng-click="sort('lastModifiedOn')">Last Modified
										On<span data-ng-class="sortClass('lastModifiedOn')"></span>
									</th>
									<th data-ng-click="sort('elaborationBy.username')">Elaboration
										BY<span data-ng-class="sortClass('elaborationBy.username')"></span>
									</th>
								</tr>
							</thead>
							<tbody>
								<tr
									data-ng-repeat="elaboration in requirement.elaborations | filter:search.searchFor | orderBy:sortColumn:desc">
									<td>{{elaboration.id}}</td>
									<td>{{elaboration.title}}</td>
									<td
										title="{{requirement.createdOn | date:'dd MMMM, yyyy ( hh:mm:ss a )'}}">
										{{elaboration.createdOn | date:'dd MMMM, yyyy'}}</td>
									<td
										title="{{requirement.lastModifiedOn | date:'dd MMMM, yyyy ( hh:mm:ss a )'}}">
										{{elaboration.lastModifiedOn | date:'dd MMMM, yyyy'}}</td>
									<td>{{elaboration.elaborationBy.username}}</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="panel panel-default theme-panel">
		<div class="panel-heading">
			<div style="padding-bottom: 4px;">
				<div style="font-size: 1.3em; display: inline-block; margin-top: 5px; cursor: pointer;" data-toggle="collapse" data-target="#requirements">Child Requirements</div>
				<div class="form-inline pull-right">
					<div class="input-group">
						<span class="input-group-addon">Search By</span> 
						<select
							class="form-control" data-ng-model="search.searchBy">
							<option value="all">ALL</option>
							<option value="id">ID</option>
							<option value="title">TITLE</option>
							<option value="shortTitle">SHORT TITLE</option>
							<option value="type">TYPE</option>
							<option value="priority">PRIORITY</option>
							<option value="status">STATUS</option>
						</select>
					</div>
					
					<input type="text" class="form-control" placeholder="search for"
						data-ng-show="isVisible('all')" data-ng-model="search.searchFor">
					<input type="text" class="form-control"
						placeholder="enter id here..." data-ng-show="isVisible('id')"
						data-ng-model="search.searchFor.id"> 
					<input type="text"
						class="form-control" placeholder="enter title here..."
						data-ng-show="isVisible('title')"
						data-ng-model="search.searchFor.title"> 
					<input
						type="text" class="form-control"
						placeholder="enter short title here..."
						data-ng-show="isVisible('shortTitle')"
						data-ng-model="search.searchFor.shortTitle"> 
					<input
						type="text" class="form-control"
						placeholder="enter type here..."
						data-ng-show="isVisible('type')"
						data-ng-model="search.searchFor.type">
					<input
						type="text" class="form-control"
						placeholder="enter links here..."
						data-ng-show="isVisible('links')"
						data-ng-model="search.searchFor.shortTitle">
					<input
						type="text" class="form-control"
						placeholder="enter priority here..."
						data-ng-show="isVisible('priority')"
						data-ng-model="search.searchFor.shortTitle">
					<input
						type="text" class="form-control"
						placeholder="enter status here..."
						data-ng-show="isVisible('status')"
						data-ng-model="search.searchFor.shortTitle">
				</div>
			</div>
		</div>
		<div id="requirements" class="panel-collapse collapse">
			<div>
			<table class="table table-striped">
				<thead>
					<tr>
						<th data-ng-click="sort('id')">Id<span
							data-ng-class="sortClass('id')"></span></th>
						<th data-ng-click="sort('shortTitle')">Short Tiltle<span
							data-ng-class="sortClass('shortTitle')"></span></th>
						<th data-ng-click="sort('title')">Title<span
							data-ng-class="sortClass('title')"></span></th>
						<th data-ng-click="sort('createdOn')">Created On<span
							data-ng-class="sortClass('createdOn')"></span></th>
						<th data-ng-click="sort('lastModifiedOn')">Last Modified On<span
							data-ng-class="sortClass('lastModifiedOn')"></span></th>
						<th data-ng-click="sort('type')">Type<span
							data-ng-class="sortClass('type')"></span></th>
						<th data-ng-click="sort('priority')">Priority<span
							data-ng-class="sortClass('priority')"></span></th>
						<th data-ng-click="sort('status')">Status<span
							data-ng-class="sortClass('status')"></span></th>
					</tr>
				</thead>
				<tbody>
					<tr
						data-ng-repeat="requirement in childReqs | filter:{status:'!DELETED'}| filter:search.searchFor | orderBy:sortColumn:desc">
						<td>{{requirement.id}}</td>
						<td>{{requirement.shortTitle}}</td>
						<td><a href="#/requirement/{{requirement.id}}">{{requirement.title}}</a></td>
						<td title="{{requirement.createdOn | date:'dd MMMM, yyyy ( hh:mm:ss a )'}}">{{requirement.createdOn | date:'dd MMMM, yyyy'}}</td>
						<td title="{{requirement.lastModifiedOn | date:'dd MMMM, yyyy ( hh:mm:ss a )'}}">{{requirement.lastModifiedOn | date:'dd MMMM, yyyy'}}</td>
						<td><span class="label label-pill label-info">{{requirement.type}}</span></td>
						<td><span class="label label-pill label-info">{{requirement.priority}}</span></td>
						<td><span class="label label-pill label-info">{{requirement.status}}</span></td>
					</tr>
					<tr>
						<td colspan="8" style="text-align: center;"><a href="#/addRequirement/requirement/{{requirement.id}}">Add New Requirement</a></td>
					</tr>
				</tbody>
			</table>
			</div>
		</div>
	</div>
			</div>
		</div>
	</div>
</div>

<script type="text/ng-template" id="deleteRequirementConfirmationModal.html">
 	   <!-- Modal Header -->
            <div class="modal-header">
                <button type="button" class="close" ng-click="dismissConfirm()">&times;</button>
                <h4 class="modal-title">Confirmation</h4>
            </div>
           
            <!-- Modal Body -->
            <div class="modal-body">
                <h5>Do you really want to delete this requirement?</h5>
             </div>
           
            <!-- Modal Footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-ng-click="removeRequirement(requirement.id)">yes</button>
                <button type="button" class="btn btn-default" ng-click="dismissConfirm()">No! Wait</button>
            </div>
</script>

